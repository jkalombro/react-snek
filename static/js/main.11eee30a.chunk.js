(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,n,t){e.exports=t(29)},23:function(e,n,t){},29:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(7),i=t.n(o),s=(t(23),t(8)),c=t(9),l=t(13),u=t(10),f=t(14),d=t(1),m=t(2);function h(){var e=Object(d.a)(["\n  margin-bottom: 1rem;\n"]);return h=function(){return e},e}function v(){var e=Object(d.a)(["\n  background-color : blue;\n  color: white;\n  border-radius: 3px;\n  border: 2px solid blue;\n  padding: .75rem 1rem;\n  font-size: 1rem;\n  cursor: pointer;\n  box-shadow: 0 0 10px black;\n\n  &:hover, &:focus, &:active {\n    outline: none;\n  }\n"]);return v=function(){return e},e}function k(){var e=Object(d.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  background-color: rgb(0, 0, 0, .9);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  font-size: 1.2rem;\n"]);return k=function(){return e},e}function p(){var e=Object(d.a)(["\n  height: ",";\n  width: ",";\n\n  &:hover, &:focus, &:active {\n    outline: none;\n  }\n"]);return p=function(){return e},e}function b(){var e=Object(d.a)(["\n  text-align: center;\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: white;\n"]);return b=function(){return e},e}var g=m.a.div(b()),w=m.a.div(p(),function(e){return e.size+"px"},function(e){return e.size+"px"}),x=m.a.div(k()),C=m.a.button(v()),y=m.a.div(h());function z(){var e=Object(d.a)(["\n    height: ",";\n    width: ",";\n    background-color: ",";\n    border: ",";\n"]);return z=function(){return e},e}function E(){var e=Object(d.a)(["\n    height: ",";\n    width: ",";\n    box-sizing: content-box;\n    padding: 0;\n    display: flex;\n    flex-wrap: wrap;\n\n    &:hover, &:focus, &:active {\n        outline: none;\n    }\n"]);return E=function(){return e},e}var O=m.a.div(E(),function(e){return e.size+"px"},function(e){return e.size+"px"}),j=m.a.div(z(),function(e){return e.size+"px"},function(e){return e.size+"px"},function(e){return e.foodCell?"orange":e.snakeCell?"cyan":e.wallCell?"darkgray":"black"},function(e){return e.foodCell||e.snakeCell||e.wallCell?"1px solid black":"0px"}),S=function(e,n){if(!e||!n||e.length!==n.length)return!1;for(var t=!0,a=0;a<e.length;a++)e[a]!==n[a]&&(t=!1);return t},I=function(e,n){return e.map(function(e,t){return e-n[t]})},G=function(e){return 0===e.status?r.a.createElement(x,null,r.a.createElement(C,{onClick:e.startGame},"Start game!")):2===e.status?r.a.createElement(x,null,r.a.createElement(y,null,r.a.createElement("b",null,"GAME OVER!")),r.a.createElement(y,null,"Your score: ",e.snake.length-4," "),r.a.createElement(C,{onClick:e.startGame},"Start a new game")):null},T=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(u.a)(n).call(this,e))).moveFood=function(){var e,n;do{e=parseInt(Math.random()*t.numCells-1)}while(0===e);do{n=parseInt(Math.random()*t.numCells-1)}while(0===n);t.setState({food:[e,n]})},t.setDirection=function(e){var n=e.keyCode;if(32!==n||0!==t.state.status&&2!==t.state.status){var a=!0;[[38,40],[37,39]].forEach(function(e){e.indexOf(t.state.direction)>-1&&e.indexOf(n)>-1&&(a=!1)}),!a||37!==n&&38!==n&&39!==n&&40!==n||t.setState({direction:n})}else t.startGame()},t.moveSnake=function(){var e=[];switch(t.state.direction){case 40:e[0]=[t.state.snake[0][0],t.state.snake[0][1]+1];break;case 38:e[0]=[t.state.snake[0][0],t.state.snake[0][1]-1];break;case 39:e[0]=[t.state.snake[0][0]+1,t.state.snake[0][1]];break;case 37:e[0]=[t.state.snake[0][0]-1,t.state.snake[0][1]]}[].push.apply(e,t.state.snake.slice(1).map(function(e,n){return t.state.snake[n]})),t.setState({snake:e}),t.checkIfAteFood(e),t.isValid(e[0])&&t.doesntOverlap(e)||t.endGame()},t.checkIfAteFood=function(e){if(S(e[0],t.state.food)){var n,a=e[e.length-1],r=[[-1,0],[0,-1],[1,0],[0,1]];e.length>1&&(r[0]=I(a,e[e.length-2]));for(var o=0;o<r.length&&(n=[a[0]+r[o][0],a[1]+r[o][1]],!t.isValid(n));o++);t.setState({snake:e.concat([n]),food:[]}),t.moveFood()}},t.isValid=function(e){return e[0]>0&&e[1]>0&&e[0]<t.numCells-1&&e[1]<t.numCells-1},t.doesntOverlap=function(e){return 0===e.slice(1).filter(function(n){return S(e[0],n)}).length},t.startGame=function(){var e=t.state.speed;t.removeTimers(),t.moveSnakeInterval=setInterval(t.moveSnake,e),t.setState({status:1,snake:[[5,5],[4,5],[3,5],[2,5]],food:[10,10],direction:39}),t.el.focus()},t.endGame=function(){t.removeTimers(),t.setState({status:2})},t.removeTimers=function(){t.moveSnakeInterval&&clearInterval(t.moveSnakeInterval),t.moveFoodTimeout&&clearTimeout(t.moveFoodTimeout)},t.state={snake:[],food:[],status:0,direction:39,speed:50},t}return Object(f.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.el.focus()}},{key:"componentWillUnmount",value:function(){this.removeTimers()}},{key:"render",value:function(){var e=this;this.numCells=Math.floor(this.props.size/15);var n=this.props.size/this.numCells,t=Array.from(Array(this.numCells).keys()),a=t.map(function(a){return t.map(function(o){var i=e.state.food[0]===o&&e.state.food[1]===a,s=e.state.snake.filter(function(e){return e[0]===o&&e[1]===a});s=s.length&&s[0];var c=0===o||0===a||o===t.length-1||a===t.length-1;return r.a.createElement(j,{foodCell:i,snakeCell:s,wallCell:c,size:n,key:o+" "+a})})});return r.a.createElement(g,null,r.a.createElement(w,{onKeyDown:this.setDirection,size:this.props.size,ref:function(n){return e.el=n},tabIndex:-1},r.a.createElement(G,{status:this.state.status,startGame:this.startGame,snake:this.state.snake}),r.a.createElement(O,{size:this.props.size},a)))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=window,A=F.innerHeight,M=F.innerWidth,D=A<M?.8*A:M;i.a.render(r.a.createElement(T,{size:D}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.11eee30a.chunk.js.map